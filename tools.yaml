sources:
  my-looker-source:
    kind: looker
    base_url: https://looker.example.com:19999
    client_id: ${LOOKER_CLIENT_ID}
    client_secret: ${LOOKER_CLIENT_SECRET}
    verify_ssl: true
  
  external-api:
    kind: http
    baseUrl: https://httpbin.org
    timeout: 30s

tools:
  test-get:
    kind: http
    method: GET
    source: external-api
    path: /get
    description: Test GET request
  
  test-post:
    kind: http
    method: POST
    source: external-api
    path: /post
    description: Test POST request
    requestBody: |
      {
        "message": "{{.msg}}"
      }
    bodyParams:
      - name: msg
        type: string
        description: Message to send

toolsets:
  test-toolset:
    - looker-query
    - test-get
    - test-post



# ============================================
# SOURCES
# ============================================
sources:
  # Looker source - uses base_url (snake_case)
  my-looker-source:
    kind: looker
    base_url: ${LOOKER_BASE_URL}  # snake_case!
    client_id: ${LOOKER_CLIENT_ID}
    client_secret: ${LOOKER_CLIENT_SECRET}
    verify_ssl: true
    timeout: 600s
  
  # HTTP source - uses baseUrl (camelCase)
  hello-service:
    kind: http
    baseUrl: https://httpbin.org  # camelCase!
    timeout: 30s
    headers:
      Content-Type: application/json
  
  # Another HTTP source example
  ml-service:
    kind: http
    baseUrl: https://your-ml-api.com  # camelCase!
    timeout: 30s
    headers:
      Authorization: Bearer ${ML_API_KEY}
      Content-Type: application/json

# ============================================
# TOOLS
# ============================================
tools:
  # Simple GET request
  hello-world:
    kind: http-get
    source: hello-service
    endpoint: /get
    description: Simple hello world GET request
    parameters:
      - name: message
        type: string
        description: Your message
        required: false
  
  # POST request with body
  echo-message:
    kind: http-post
    source: hello-service
    endpoint: /post
    description: Echo back your message via POST
    parameters:
      - name: text
        type: string
        description: Text to echo
        required: true
  
  # Call external ML service
  enhance-data:
    kind: http-post
    source: ml-service
    endpoint: /predict
    description: Enhance data with ML predictions
    parameters:
      - name: data
        type: object
        description: Input data for ML model
        required: true
      - name: model_type
        type: string
        description: Type of ML model
        required: false

# ============================================
# TOOLSETS
# ============================================
toolsets:
  all-tools:
    - looker-query
    - looker-get-models
    - hello-world
    - echo-message
    - enhance-data
